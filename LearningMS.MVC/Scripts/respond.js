window.matchMedia = window.matchMedia || function (e, t) { var n, a = e.documentElement, i = a.firstElementChild || a.firstChild, s = e.createElement("body"), r = e.createElement("div"); return r.id = "mq-test-1", r.style.cssText = "position:absolute;top:-100em", s.style.background = "none", s.appendChild(r), function (e) { return r.innerHTML = '&shy;<style media="' + e + '"> #mq-test-1 { width: 42px; }</style>', a.insertBefore(s, i), n = 42 == r.offsetWidth, a.removeChild(s), { matches: n, media: e } } }(document), function (e) { if (e.respond = {}, respond.update = function () { }, respond.mediaQueriesSupported = e.matchMedia && e.matchMedia("only all").matches, !respond.mediaQueriesSupported) { var t, n, a, i = e.document, s = i.documentElement, r = [], o = [], d = [], l = {}, m = i.getElementsByTagName("head")[0] || s, h = i.getElementsByTagName("base")[0], c = m.getElementsByTagName("link"), u = [], p = function () { for (var t, n, a, i, s = c, r = s.length, o = 0; o < r; o++)n = (t = s[o]).href, a = t.media, i = t.rel && "stylesheet" === t.rel.toLowerCase(), n && i && !l[n] && (t.styleSheet && t.styleSheet.rawCssText ? (g(t.styleSheet.rawCssText, n, a), l[n] = !0) : (/^([a-zA-Z:]*\/\/)/.test(n) || h) && n.replace(RegExp.$1, "").split("/")[0] !== e.location.host || u.push({ href: n, media: a })); f() }, f = function () { if (u.length) { var e = u.shift(); v(e.href, function (t) { g(t, e.href, e.media), l[e.href] = !0, f() }) } }, g = function (e, t, n) { var a, i, s, d, l, m = e.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi), h = m && m.length || 0, c = function (e) { return e.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g, "$1" + t + "$2$3") }, u = !h && n, p = 0; for ((t = t.substring(0, t.lastIndexOf("/"))).length && (t += "/"), u && (h = 1); p < h; p++)for (a = 0, u ? (i = n, o.push(c(e))) : (i = m[p].match(/@media *([^\{]+)\{([\S\s]+?)$/) && RegExp.$1, o.push(RegExp.$2 && c(RegExp.$2))), l = (d = i.split(",")).length; a < l; a++)s = d[a], r.push({ media: s.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/) && RegExp.$2 || "all", rules: o.length - 1, hasquery: s.indexOf("(") > -1, minw: s.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/) && parseFloat(RegExp.$1) + (RegExp.$2 || ""), maxw: s.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/) && parseFloat(RegExp.$1) + (RegExp.$2 || "") }); x() }, y = function () { var e, t = i.createElement("div"), n = i.body, r = !1; return t.style.cssText = "position:absolute;font-size:1em;width:1em", n || ((n = r = i.createElement("body")).style.background = "none"), n.appendChild(t), s.insertBefore(n, s.firstChild), e = t.offsetWidth, r ? s.removeChild(n) : n.removeChild(t), e = a = parseFloat(e) }, x = function (e) { var l = s.clientWidth, h = "CSS1Compat" === i.compatMode && l || i.body.clientWidth || l, u = {}, p = c[c.length - 1], f = (new Date).getTime(); if (e && t && f - t < 30) return clearTimeout(n), void (n = setTimeout(x, 30)); for (var g in t = f, r) { var v = r[g], E = v.minw, w = v.maxw, T = null === E, C = null === w; E && (E = parseFloat(E) * (E.indexOf("em") > -1 ? a || y() : 1)), w && (w = parseFloat(w) * (w.indexOf("em") > -1 ? a || y() : 1)), v.hasquery && (T && C || !(T || h >= E) || !(C || h <= w)) || (u[v.media] || (u[v.media] = []), u[v.media].push(o[v.rules])) } for (var g in d) d[g] && d[g].parentNode === m && m.removeChild(d[g]); for (var g in u) { var S = i.createElement("style"), $ = u[g].join("\n"); S.type = "text/css", S.media = g, m.insertBefore(S, p.nextSibling), S.styleSheet ? S.styleSheet.cssText = $ : S.appendChild(i.createTextNode($)), d.push(S) } }, v = function (e, t) { var n = E(); n && (n.open("GET", e, !0), n.onreadystatechange = function () { 4 != n.readyState || 200 != n.status && 304 != n.status || t(n.responseText) }, 4 != n.readyState && n.send(null)) }, E = function () { var e = !1; try { e = new XMLHttpRequest } catch (t) { e = new ActiveXObject("Microsoft.XMLHTTP") } return function () { return e } }(); p(), respond.update = p, e.addEventListener ? e.addEventListener("resize", w, !1) : e.attachEvent && e.attachEvent("onresize", w) } function w() { x(!0) } }(this);